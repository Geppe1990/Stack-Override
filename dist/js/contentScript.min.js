var questionSelector=document.querySelector("[data-questionid]"),questionId=questionSelector?parseInt(questionSelector.dataset.questionid):null,question={},answer=null,OPT={address:"https://api.stackexchange.com/2.2/questions/",parameters:"?order=desc&sort=activity&site=stackoverflow&filter=withbody",answers:"/answers"};function createModal(e,t){var n=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["overlay","button","escape"],closeLabel:"Close"});n.setContent("<h1>"+e.title+"</h1>"+e.body+"<hr/><h2>Answer</h2>"+t),n.addFooterBtn("Close","tingle-btn tingle-btn--danger",function(){n.close()}),n.open()}async function getContent(e,t){var n="question"==t?OPT.address+e+OPT.parameters:OPT.address+e+OPT.answers+OPT.parameters;try{const s=await fetch(n);return await s.json()}catch(e){console.error("Error:",e)}}function manageAnswers(e){var t=null,n=0;e.items.forEach(e=>{e.score>n&&(n=e.score,t=e.body)}),answer=t,question&&answer&&createModal(question,answer)}function manageQuestion(e){e&&(question.title=e.items[0].title||null,question.body=e.items[0].body||null,question.acceptedAnswerId=e.items[0].accepted_answer_id||null,getContent(questionId,"answer").then(function(e){manageAnswers(e)}))}questionId&&getContent(questionId,"question").then(function(e){manageQuestion(e)});