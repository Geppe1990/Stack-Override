var questionSelector=document.querySelector("[data-questionid]"),questionId=questionSelector?parseInt(questionSelector.dataset.questionid):null,question={},answer=null;const OPT={address:"https://api.stackexchange.com/2.2/questions/",parameters:"?order=desc&sort=activity&site=stackoverflow&filter=withbody",answers:"/answers"};function getContent(e,t){e="question"==t?OPT.address+e+OPT.parameters:OPT.address+e+OPT.answers+OPT.parameters;return fetch(e).then(e=>e.json()).then(e=>e).catch(e=>{console.error("Error:",e)})}function manageQuestion(e){e&&(question.title=e.items[0].title||null,question.body=e.items[0].body||null,question.acceptedAnswerId=e.items[0].accepted_answer_id||null,getContent(questionId,"answer").then(function(e){manageAnswers(e)}))}function manageAnswers(e){var t=null,n=0;e.items.forEach(e=>{e.score>n&&(n=e.score,t=e.body)}),answer=t,question&&createModal(question,answer)}function createModal(e,t){console.log(e),console.log(t)}questionId&&getContent(questionId,"question").then(function(e){manageQuestion(e)});